<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>tpler walker</title>
    <link rel="stylesheet" href="css/console.min.css">
    <script src="js/tpler.js"></script>
</head>

<body>
    <script type="text/template" id="_playback_password_tpl">
        <div class="screen screen43 rlt transparent">
            <div class="screen screen43 abs  bgblur" {=topbackground|avatar}></div>
            <div class="ipt_group" id="password_input_group">
                <div class="title">
                    <div class="line_left"></div>请输入直播厅密码
                    <div class="line_right"></div>
                </div>
                <div class="ipt" id="password_input" template="_password_input_tpl"></div>
            </div>
            <div class="screen_tip {=tip|showorhide}" id="playback_password_tip">
                <div class="text">{=tip}</div>
                {=url|viewurl}
            </div>
            <div class="load hide" id="password_loadShow">
                <div class="loadLogo"></div>
                <div class="loadAnimation">
                    <div class="loadBackImg"></div>
                    <div class="loadAnimationImg"></div>
                </div>
            </div>
        </div>
    </script>
    <script type="text/template" id="_json_tpl">
        { "errorcode": "450", "errordesc": "未绑定手机号\",\',请先绑定手机号并再次尝试", "data": [], "extra": { "servicetype": "4", "bizdata": { "url": "http://testserver.comein.cn/comein-files/static/webinapp/index.html#/oahtsec?securityId=2" }, "biztype": "2", "url": "http://testserver.comein.cn/comein-files/static/webinapp/index.html#/oahtsec?securityId=2", "__devinfo": { "requestinfo": { "act": "joinevent", "app": "json", "eventid": "4121", "ip": "127.0.0.1", "mod": "event", "uid": "116965", "verify": "", "web_token": "68396c4d5901ea015bd64c111dde7315" }, "paraminfo": [ { "name": "uid", "type": "Long", "validate": "必选" }, { "name": "eventid", "type": "Long", "validate": "必选" }, { "name": "b", "type": "String", "validate": "可选" }, { "defaultvalue": "web", "name": "os", "type": "String", "validate": "必选" }, { "name": "verify", "type": "String", "validate": "可选" }] } }, "eid": "4121" }
    </script>
    <script type="text/template" id="_json2_tpl">
        {"paraminfo": [{ "name": "verify", "validate": "可选" }],eid:-.3322222222223,id:-2e+8,test:"ooo",flag:true}
    </script>
    <script type="text/template" id="_uxxxx_tpl">
        { aps = { alert = "\U7cfb\U7edf\U901a\U77e5:{\"desc\":\"\U7236\U4eb2\U770b\U5230\U6211\U751f\U8fb0\U4e0d\U51e1\Uff0c\U7ed9\U6211\U8d77\U4e86\U4e2a\U597d\U540d\U5b57\Uff0c\U540d\U5b57\U53eb\U505a\U201c\U5e73\U201d\Uff0c\U5b57\U540d\U53eb\U505a\U201c\U539f\U201d\",\"id\":..."; badge = 1; sound = ""; }; }
    </script>
    <script type="text/template" id="_message_tpl">
        <message id="activitytext:4562" to="4562" from="13092@ay131026204339z" type="chat">
            <subject>34343917</subject>

            <body>YmI=</body>
            <currenttime>1495448844795</currenttime>
            <userinfo>
                <uname>童红艳集</uname>
                <avatarurl>http://comein-test-image.img-cn-hangzhou.aliyuncs.com/comein-files//img/2017-02-10/2a9b6089-9def-4853-9bc6-2b8b517bc026/2a9b6089-9def-4853-9bc6-2b8b517bc026.jpg</avatarurl>
                <level>0</level>
                <identity>0</identity>
                <newidentity>1</newidentity>
            </userinfo>
        </message>
    </script>
    <script type="text/template" id="_zhihu_tpl">
        作者：Felis sapiens 链接：https://www.zhihu.com/question/26607715/answer/40829746 来源：知乎 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 Hey, I was writing a very long comment about GitBook, Penflip, Leanpub, Softcover... then found your profile and realized you're Penflip's owner.I'll still reproduce the comment here in case you can get some insights or anyone else is interested.---I've been researching on Markdown+Git book publishing (inspired by 'Markdown to Ebook'[0]) and found that there are already three 'GitHubs for writers': GitBook[1], Penflip[2] and http://Arturo.io[3]. Each has its own strengths and weaknesses:# GitBookJust a publishing platform backed by Git.## Like:- Standalone app.- It is a bookstore.- Publishes to major stores.## Dislike:- Ugly MSWord-like typesetting.- There's no "social collaboration" at all, seems like it's just backed by Git. Not sure if small-scale collaboration (couple authors) is supported in the app or you have to deal with Git complexities yourself.- Seems technical-oriented. No fiction categories.# PenflipPenflip seems to fit your idea more (note: now I know why it fits your idea :P), being collaborative like GitHub.## Like:- Collaborative.## Dislike:- It has no integration with bookstores.- It's not a bookstore and you can't discover books easily.- Looks more like a "free books" platform using 'free' in the FSF sense.- It's hard to find a complete book to peek into, but the output seems to be just as ugly as GitBook's. AFAIK they let you customize output, but seems typesetting is not LaTeX-like and suspect won't be up to the job. Defaults are very important, it should be beautiful right out of the box.# http://Arturo.ioArturo.io's page is currently down (some cert error). It looked just like a bunch of webhooks for GitHub. Seemed immature and not for less technical users (still requires Git/Hub knowledge).---As non-Git alternatives I found Leanpub[4] and Softcover[5].# LeanpubSocial bookstore and publishing platform.## Like:- Lean Publishing.- The author-reader interaction is awesome.- Their PDF output is beautiful.- It's a bookstore (90% royalties!) with social-network aspects.- Makes it really easy to create bundles, sharing royalties with other authors, etc. Really awesome feature.- Tools for marketing are awesome. Integrated with Google Analytics.## Dislike:- I can't download their toolchain (but a local workflow is somewhat reproducible following 'Markdown to Ebook'[0])- Does not rely on Git, but in Dropbox. No proper version control.- No collaboration.- Does not publish to major bookstores (but allows you to do so).# SoftcoverMajor Leanpub competitor. In the publishing aspect seems to be pretty much the same, but their store philosophy is different. Their aim is not to be a bookstore but just a payment processor. You deal with your own marketing, set up your own domain.## Like:- I can download their toolchain. As far as I can tell, I could self-publish not using their platform without hassle. Not being tied to a provider is a HUGE selling point for me.- AFAICT still supports Lean Publishing with their generated landing pages.- Their PDF output is beautiful.- It's a book payments processor. 90% royalties!- Lets you control your own marketing, domain, etc. (has downsides)## Dislike:- Since you control your own marketing there are no social network aspects. Each book is supposed to be its own page. No bookstore. No way to explore and discover other books.- A bit too technical.- DIY version control, no integrated collaboration.- Does not publish to major bookstores (but allows you to do so AFAICT).Even though I'd love a Git-backed workflow I'll stick with one of Leanpub or Softcover because of how beautiful they look. I can still Git it myself. Major selling point for me and the non-techie friends I've been talking to.The bookstore integration in both is a big selling point too!I still consider Leanpub since I can replicate their toolchain and seems so easy and powerful for my non-tech friends. Letting users discover your book in the bookstore is really useful.--- EDIT:Now that I know you're from Penflip I will summarize:I can see you're not a competitor with publishing platforms. As far as I can tell, you're more like GitHub, in the private-repo business instead of taking a cut from sales. Penflip seems great for social collaborative stuff, but I wouldn't choose it if I planned on selling my book.As I said typesetting is very important. Your platform is awesome, but rendering really put off my friends. Penflip books like like HTML rendered to a PDF (which I guess they actually are). Did you consider moving to LaTeX-based rendering for PDFs? Markdown -> LaTeX -> PDF is the way to go.Git is a great selling point, but secondary. Book authors just don't know it yet, even though it's one of those features that you just love when you try.---[0] Markdown To Ebook[1] GitBook Write & Publish Books[2] Penflip - collaborative writing and version control[3] https://arturo.io/[4] https://leanpub.com/[5] Frictionless Self-Publishing for Tech-Savvy Writers
    </script>
    <script>
    logger()
    var tpl = _.$("#_json2_tpl").html();

    var w = walker({ text: tpl, debug: true })

    // while (w.next()) {
    //     console.log(w.info())
    // }
    var j = w.json()
    console.log(j)
    // console.log(JSON.parse(tpl))

    var w=walker("fff")
    console.log(w.json());


    var w=walker(343434)
    console.log(w.json());

    var w=walker({text:"dfd"})
    console.log(w.json());
    </script>
</body>

</html>